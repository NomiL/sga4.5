\usepackage[utf8]{inputenc} % allows French characters
\usepackage[all]{xy}        % commutative diagrams
\usepackage[stable,symbol]{footmisc}

\ifdefined\sgaoption 
  \ifnum\sgaoption=1 % tablet version
    \usepackage[paperwidth=6.125in,paperheight=9.25in,text={5.5in,8in},centering]{geometry}
  \else % tree saving version
    \usepackage[margin=1in,centering]{geometry}
  \fi
\else % normal version
  \usepackage[text={5.5in,8in},centering]{geometry}
\fi


\usepackage{
  amsmath,
  amssymb,
  amsthm,
  bm,        % to get bold symbols to work with stmaryrd
  enumerate, % allows \begin{enumerate}[\indent a)]
  mathrsfs,  % allows \mathscr
%  microtype, % improves general appearance
  stmaryrd   % allows \llbracket, i.e. [[t]]
}
\usepackage[kerning=true]{microtype} % improves general appearance
\usepackage[pdfpagelabels,backref=page]{hyperref}
\setcounter{secnumdepth}{6}


% operators
  \DeclareMathOperator{\aut}{Aut}
  \DeclareMathOperator{\br}{Br}
  \DeclareMathOperator{\cl}{cl}
  \DeclareMathOperator{\cosp}{cosp}
  \DeclareMathOperator{\dv}{div}
  \DeclareMathOperator{\Div}{Div}
  \DeclareMathOperator{\ext}{Ext}
  \DeclareMathOperator{\gal}{Gal}
  \DeclareMathOperator{\gl}{GL}
  \DeclareMathOperator{\gr}{gr}
  \DeclareMathOperator{\h}{H}
  \DeclareMathOperator{\im}{im}
  \DeclareMathOperator{\ob}{Ob}
  \DeclareMathOperator{\pgl}{PGL}
  \DeclareMathOperator{\pic}{Pic}
  \DeclareMathOperator{\sh}{Sh}
  \DeclareMathOperator{\spec}{Spec}
  \DeclareMathOperator{\tor}{Tor}
  \DeclareMathOperator{\tr}{tr}


% special characters
  \newcommand{\cA}{\mathscr{A}}
  \newcommand{\cB}{\mathscr{B}}
  \newcommand{\cC}{\mathscr{C}}
  \newcommand{\cF}{\mathscr{F}} % should fix \cG -> \mathscr{G}
  \newcommand{\cG}{\mathscr{G}}
  \newcommand{\cH}{\mathscr{H}}
  \newcommand{\cI}{\mathscr{I}}
  \newcommand{\cK}{\mathscr{K}}
  \newcommand{\cL}{\mathscr{L}}
  \newcommand{\cM}{\mathscr{M}}
  \newcommand{\cN}{\mathscr{N}}
  \newcommand{\cO}{\mathscr{O}}
  \newcommand{\cP}{\mathscr{P}}
  \newcommand{\cT}{\mathscr{T}}

  \newcommand{\dA}{\mathbb{A}}
  \newcommand{\dC}{\mathbb{C}}
  \newcommand{\dF}{\mathbb{F}}
  \newcommand{\dG}{\mathbb{G}}
  \newcommand{\dmu}{{\bm\mu}}%{\boldsymbol{\mu}}
  \newcommand{\dN}{\mathbb{N}}
  \newcommand{\dP}{\mathbb{P}}
  \newcommand{\dQ}{\mathbb{Q}}
  \newcommand{\dR}{\mathbb{R}}
  \newcommand{\dZ}{\mathbb{Z}}

  \newcommand{\fa}{\mathfrak{a}}
  \newcommand{\fm}{\mathfrak{m}}
  \newcommand{\fp}{\mathfrak{p}}
  \newcommand{\fX}{\mathfrak{X}}
  
  \newcommand{\sA}{\mathcal{A}} % should fix \sA -> \mathcal{A}
  \newcommand{\sB}{\mathcal{B}}
  \newcommand{\sC}{\mathcal{C}}
  \newcommand{\sD}{\mathcal{D}}
  \newcommand{\sE}{\mathcal{E}}
  \newcommand{\sS}{\mathcal{S}}
  \newcommand{\sU}{\mathcal{U}}


% miscellaneous operators
  \newcommand{\an}[1]{{#1}^{\textnormal{an}}}
  \newcommand{\const}[1]{\underline{#1}}
  \newcommand{\et}[1]{{#1}_{\textnormal{et}}}
  \newcommand{\iso}{\xrightarrow\sim}
  \newcommand{\R}{\mathsf{R}} % should be turned into \eR
  \newcommand{\D}{\mathsf{D}} % should be turned into \eD
  \newcommand{\eL}{\mathsf{L}}
  \newcommand{\lotimes}{{\overset{\mathsf{L}}{\otimes}}}
  \newcommand{\rhom}{\mathsf{Rhom}}


% theorem types
  \newtheorem{proposition}[subsubsection]{Proposition}
  \newtheorem{corollary}[subsubsection]{Corollaire}
  \newtheorem{definition}[subsubsection]{Définition}
  \newtheorem{theorem}[subsubsection]{Théorème}
  \newtheorem{lemma}[subsubsection]{Lemme}
  
  \newtheorem{lemma_}[subsection]{Lemme}
  \newtheorem{corollary_}[subsection]{Corollaire}
  \newtheorem{theorem_}[subsection]{Théorème}
  \newtheorem{proposition_}[subsection]{Proposition}
  \newtheorem{definition_}[subsection]{Définition}
  \newtheorem{prop-def_}[subsection]{Proposition-définition}
  \setcounter{tocdepth}{1}


\renewcommand*\thechapter{\Roman{chapter}}
\renewcommand*\thesection{\arabic{section}}
\renewcommand{\theequation}{\arabic{equation}}
\setcounter{secnumdepth}{3}

\newcommand\blfootnote[1]{
  \begingroup
  \renewcommand\thefootnote{}\footnote{#1}
  \addtocounter{footnote}{-1}
  \endgroup
}
